---
title:  "차량동역학 5장"
excerpt: "학부연구생 스터디"
use_math: true
categories:
  - 차량동역학
---


### INTRODUCTION TO LONGITUDINAL CONTROL
이번 장에서는 종방향 제어에 대해서 알아봅니다.

<br>

**CRUISE CONTROL**

<p align="center"><img src="https://user-images.githubusercontent.com/54671691/105620983-1cde8980-5e46-11eb-94a0-8deb2f55d203.JPG" width = "200" ></p>

standard cruise control system 에서 speed set point를 입력으로 받고 desired acceleration을 출력으로 하는 상위제어기와 상위제어기의 출력을 입력으로 받고 throttle input을 출력으로 하는 하위제어기가 있습니다.

상위제어기를 설계할때 다음을 만족해야 합니다.
 - zero steady state tracking error
 - zero overshoot
 - fast rise time

<br>

상위제어기 plant model

$\ddot{x}= \frac{1}{\tau s +1}\ddot{x}_{des}$  　　or

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105621524-a6dd2100-5e4b-11eb-84c5-2feaee91419f.JPG" width = "120" ></p>

유한한 대역폭으로 차량은 원하는 가속도를 완벽하게 추적하지 못합니다.

---

**Upper level controller for cruise control**

상위 제어기에는 PI 제어기가 사용 됩니다.

$\ddot{x}_{des}(t)=-k_p(V_x-V_{ref})-k_I \int\limits_{0}^{t}(V_x - V_{ref})dt$

$x_{des}= \int\limits_{0}^{t}V_{ref}d\tau$ 이므로

$\ddot{x}_{des}=-k_p(\dot{x}-\dot{x}_{des})-k_I(x-x_{des})$

<br>

the unity feedback loop denoting this losed loop system

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105623292-f0356c80-5e5b-11eb-8ea4-de7e64c1c4d5.JPG" width = "400" ></p>


<br>

transfer function between desired acceleration and actual vehicle speed : 

$P(s)=\frac{1}{s(\tau s+1)}$


<br>

PI controller : 

$C(s)=k_p + \frac{k_i}{s}$

<br>

closed-loop transfer function : 

$\frac{V_x}{V_{ref}}=\frac{PC}{1+PC}=\frac{k_ps+k_i}{\tau s^3 + s^2 + k_ps + k_i}$


<br>
<br>

root locus for PI controller
<p align=""><img src="https://user-images.githubusercontent.com/54671691/105624145-c469b500-5e62-11eb-96f6-b7abfa064e81.JPG" width = "400" ></p>

$k_p$ : 0 to 0.75

$\frac{k_p}{k_i}$ : fixed at 4

$\tau : $ 0.5

$k_p$ 가 0.75를 일때 damping ratio 는 0.87이며 $k_p$ 가 0.75를 넘어서면 시스템이 적은 damping을 가진다.


<br>

$k_p = 0.75$ 일때의 bode plot
<p align=""><img src="https://user-images.githubusercontent.com/54671691/105624300-15c67400-5e64-11eb-9533-2888af0deffb.JPG" width = "400" ></p>

bandwidth of the closed-loop system : 0.2Hz

---

**Lower level controller for cruise control**

하위 제어기에서는 상부 컨트롤러에 의해 결정되는 가속도를 추적하도록 throttle을 조절합니다.

assumptions
- torque converter in the vehicle is locked
- zero-slip between the tires and the road

위의 가정이 합리적일 수 있는 이유는

- cruise control system은 실제로 torque converter가 잠겨있는 상태에서 작동됩니다.
- cruise control에 의한 종방향 이동은 부드럽기 때문에 타이어의 slip이 매우 적습니다.

---

**Engine torque calculation for desired acceleration**

torque converter가 잠겨있으므로 $T_t = T_p$
(turbine torque = pump torque)

$w_w = Rw_e$
R : gear ratio
$w_w, w_e $ : wheel speed, engine speed

transmission shaft speed is equal to the engine speed
$w_t = w_e$


차량의 종방향 속도 $\dot{x} = r_{eff}w_w$ 

차량의 종방향 가속도 $\ddot{x} = r_{eff}R\dot{w_e}$ 

차량의 종방향 차량 방정식 :
$m\ddot{x}=F_x - R_x - F_{aero}$

$F_x$ : longitudinal tire force for all tires

$R_x$ : rolling resistance force

$F_{aero}$ : aerodynamic drag force

차량의 종방향 가속도를 사용하여 종방향 차량 방정식을 다시 포현하면

$mRr_{eff}\dot{w_e} = F_x - R_x - F_{aero}$

$F_x = mRr_{eff}\dot{w_e} + R_x + F_{aero}$ 　　　　(5.13)

wheel rotational dynamics :

$I_w \dot{w}_{wf}=T_{wheel}-r_{eff}F_{xf}$ 에 (5.13) 을 적용


<p align=""><img src="https://user-images.githubusercontent.com/54671691/105626034-cdfa1980-5e70-11eb-9fff-2b73eb6286f8.JPG" width = "430" ></p>

다시 정리하면 (5.15) 식을 얻을 수 있습니다.
<p align=""><img src="https://user-images.githubusercontent.com/54671691/105626036-cf2b4680-5e70-11eb-82d5-6501dfb4e3a2.JPG" width = "430" ></p>

(5.15)식을 transmission dynamics에 적용시키면 다음 식을 얻습니다.
<p align=""><img src="https://user-images.githubusercontent.com/54671691/105626039-cfc3dd00-5e70-11eb-9439-905c92915ccc.JPG" width = "430" ></p>

$w_t=w_e, T_t=T_p$ 이므로 다음과 같이 정리됩니다.

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105626040-d05c7380-5e70-11eb-9217-db1a70c7ec8d.JPG" width = "410" ></p>

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105626041-d05c7380-5e70-11eb-9df0-b86c952b5a02.JPG" width = "430" ></p>

(5.16) 식을 engine rotational dynamics equation에 적용하면 다음과 같다.

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105666701-31418580-5f1d-11eb-9347-fe7b1ef7b0ca.JPG" width = "430" ></p>


$J_e=I_e+I_t+R^2I_w+mR^2r_{eff}^2$ 라고 하면 다음과 같이 정리된다.

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105666909-a8771980-5f1d-11eb-96bd-ecc329991d38.JPG" width = "480" ></p>

<br>

$F_{aero}$ 대신에 $F_{aero}=c_a(r_{eff}Rw_e)^2$ 를 적용하면 다음과 같이 정리된다.

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105667316-626e8580-5f1e-11eb-99de-5b90dbaabd67.JPG" width = "480" ></p>

$J_e=I_e+I_t+(mr_{eff}^2+I_w)R^2$ : is the effective inertia reflected on the engine side

<p align=""><img src="https://user-images.githubusercontent.com/54671691/105667622-f5a7bb00-5f1e-11eb-8d34-f717b021789b.JPG" width = "480" ></p>

---

### ANTI-LOCK BREAKE SYSTEMS

**Motivation**

Anti-lock breake system (ABS)는 다음의 두가지 목적을 가지고 있습니다.
 - 제동상태에서 휠 잠김 방지
 - longitudinal slip ratio 의 최적 값을 초과하지 않도록 유지하여 제동력 극대화


ABS가 없어 차량의 타이어가 잠기는 경우 제동력이 감소하여 차량을 멈추는데 더 오랜 시간이 걸리고 운전자가 조향을 할 수 없게 만듭니다.

<br>
<br>

figure 5-9 Tire longitudinal force as a function of logitudinal slip ratio
<p align=""><img src="https://user-images.githubusercontent.com/54671691/105674527-fe05f300-5f2a-11eb-9add-a6c9977a2b36.JPG" width = "480" ></p>


tire longitudinal force typically increases linearly with slip ratio for small slip ratios


브레이크를 강하게 밟으면 slip ratio가 커지지만 최적의 slip ratio를 벗어나면 제동력이 감소하게 됩니다.

ABS는 slip ratio를 최적 값으로 조절하여 제동력을 증대시키고 휠이 잠기는 것을 방지하여 제동 중에 차량의 조향성을 증대시킵니다. 

<br>
<br>

시뮬레이션을 통해 얻은 그래프로 ABS가 없는 제동과 ABS가 적용된 제동을 살펴 볼 수 있습니다.

<p align="center"><img src="https://user-images.githubusercontent.com/54671691/105680268-d024ac80-5f32-11eb-8f71-e2f8c5a64e2a.JPG" width = "480" ></p>

<p align="center"><img src="https://user-images.githubusercontent.com/54671691/105681635-b7b59180-5f34-11eb-9dfc-7aaca6e5ecf5.JPG" width = "480" ></p>

ABS가 적용된 제동에서는 slip latio -0.09를 유지하는 것을 볼 수 있다.
또한 바퀴가 12초에 걸쳐 천천히 속도가 감소하는 것도 확인할 수 있다.

ABS가 적용된 차량의 경우 같은 시간동안 더 많은 감속을 한 것을 확인 할 수 있다.

---

**ABS Functions**



